// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Reservation {
  id        Int      @id @default(autoincrement())
  date      DateTime
  name      String
  email     String
  phone     String
  guests    Int
  status    String   @default("PENDING") // PENDING, CONFIRMED, CANCELLED
  createdAt DateTime @default(now())

  packId Int?
  pack   Pack? @relation(fields: [packId], references: [id])
}

model MenuItem {
  id            Int     @id @default(autoincrement())
  nameFr        String
  nameEn        String
  namePt        String
  descriptionFr String?
  descriptionEn String?
  descriptionPt String?
  price         Float
  category      String // HOOKAH, DRINK, FOOD
  image         String?
  available     Boolean @default(true)
}

model Event {
  id            Int      @id @default(autoincrement())
  titleFr       String
  titleEn       String
  titlePt       String
  date          DateTime
  image         String?
  descriptionFr String?
  descriptionEn String?
  descriptionPt String?
}

model Pack {
  id             Int           @id @default(autoincrement())
  titleFr        String
  titleEn        String
  titlePt        String
  itemsFr        String // Stored as JSON string
  itemsEn        String // Stored as JSON string
  itemsPt        String // Stored as JSON string
  price          String
  recommendedFor String
  image          String? // Optional image for pack
  reservations   Reservation[]
}

model HeroConfig {
  id       Int    @id @default(autoincrement())
  videoUrl String // Store base64 or URL
}

model ContactInfo {
  id        Int     @id @default(autoincrement())
  address   String
  email     String
  phone     String
  mapsUrl   String? // Optional override for iframe URL
  instagram String?
  facebook  String?
  whatsapp  String? // URL or number
}

model Admin {
  id       Int    @id @default(autoincrement())
  password String
}
